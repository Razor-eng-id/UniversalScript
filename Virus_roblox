-- [[ #Chaos :: ENTROPY_V6_CLEAN_BUILD ]] --
-- TARGET: UNIVERSAL MOUNTAIN & RP GAMES
-- UPDATE: REMOVED BOUNCING TEXT FOR BETTER MOVEMENT

local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

-- [[ ASSETS - TETAP & TIDAK BERUBAH ]] --
local AUDIO_ID = "rbxassetid://102171623937"
local IMAGE_ID = "rbxassetid://978272452581"

-- [[ UI INITIALIZATION ]] --
local ScreenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 280, 0, 150)
Main.Position = UDim2.new(0.5, -140, 0.5, -75)
Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
local MCorner = Instance.new("UICorner", Main)
MCorner.CornerRadius = UDim.new(0, 15)

local Toggle = Instance.new("TextButton", Main)
Toggle.Size = UDim2.new(0, 220, 0, 50)
Toggle.Position = UDim2.new(0.5, -110, 0.5, 0)
Toggle.Text = "START UNIVERSAL VIRUS"
Toggle.BackgroundColor3 = Color3.fromRGB(80, 0, 0)
Toggle.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", Toggle)

-- [[ MINIMIZE LOGIC ]] --
local MiniBox = Instance.new("TextButton", ScreenGui)
MiniBox.Size = UDim2.new(0, 50, 0, 50)
MiniBox.Visible = false
MiniBox.Text = "JS"
MiniBox.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MiniBox.TextColor3 = Color3.new(1, 0, 0)
Instance.new("UICorner", MiniBox).CornerRadius = UDim.new(0, 12)

-- Fungsi Drag & Minimize Tetap Ada (Agar UI Tidak Menghalangi)
local function Drag(obj)
    local dragging, dragStart, startPos
    obj.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true dragStart = input.Position startPos = obj.Position
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if dragging then
            local delta = input.Position - dragStart
            obj.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    UserInputService.InputEnded:Connect(function() dragging = false end)
end
Drag(Main) Drag(MiniBox)

Toggle.MouseButton1Click:Connect(function()
    Toggle.Text = "VIRUS DEPLOYED"
    Toggle.BackgroundColor3 = Color3.fromRGB(0, 100, 0)
    
    -- 1. Merusak Langit (Local + Attempt Global)
    Lighting.Brightness = 0
    local sky = Instance.new("Sky", Lighting)
    sky.SkyboxBk = IMAGE_ID sky.SkyboxDn = IMAGE_ID sky.SkyboxFt = IMAGE_ID
    sky.SkyboxLf = IMAGE_ID sky.SkyboxRt = IMAGE_ID sky.SkyboxUp = IMAGE_ID

    -- 2. Audio Virus
    local s = Instance.new("Sound", game:GetService("SoundService"))
    s.SoundId = AUDIO_ID s.Volume = 10 s.Looped = true s:Play()

    -- 3. Noob Character Transformer (Hanya Visual Pakaian)
    task.spawn(function()
        while true do
            for _, p in pairs(Players:GetPlayers()) do
                if p.Character then
                    pcall(function()
                        for _, v in pairs(p.Character:GetChildren()) do
                            if v:IsA("Accessory") or v:IsA("Shirt") or v:IsA("Pants") then v:Destroy() end
                        end
                    end)
                end
            end
            task.wait(5)
        end
    end)

    -- 4. Remote Scanner (Ujung Tombak agar Dilihat Orang Lain)
    task.spawn(function()
        for _, r in pairs(game:GetDescendants()) do
            if r:IsA("RemoteEvent") then
                pcall(function()
                    r:FireServer("Skybox", IMAGE_ID)
                    r:FireServer("Audio", AUDIO_ID)
                    r:FireServer("Weather", "Chaos")
                end)
                task.wait(0.3) -- Delay agar tidak Error 267
            end
        end
    end)
end)
